---
title: Высокоуровневая архитектура для UE-V 1.0
description: Высокоуровневая архитектура для UE-V 1.0
author: dansimp
ms.assetid: d54f9f10-1a4d-4e56-802d-22d51646e1cc
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: b54a9a207f9b74ad3d028cf4ab1f9842d59b0b3a
ms.sourcegitcommit: 3e0500abde44d6a09c7ac8e3caf5e25929b490a4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/23/2021
ms.locfileid: "11910454"
---
# <a name="high-level-architecture-for-ue-v-10"></a>Высокоуровневая архитектура для UE-V 1.0


В этом разделе описываются высокоуровневые архитектурные элементы параметров Виртуализация средств взаимодействия с пользователем (Майкрософт) (UE-V) в роуминге. Следующие элементы являются частью стандартного UE-V развертывания.

![архитектурная схема агента ue-v.](images/ue-vagentarchitecturaldiagram.gif)

Агент UE-V отслеживает приложения и процессы операционной системы по мере их определения в шаблонах расположения UE-V параметров. Когда приложение или операционная система запускается, параметры считыются из пакета параметров и применяются к компьютеру. Когда приложение закрывается или когда операционная система заблокирована или закрыта, параметры сохраняются в пакете параметров UE-V в расположении хранилища параметров.

## <a name="settings-storage-location"></a>Параметры хранилища


Расположение хранилища параметров — это файл, который агент виртуализации пользовательского интерфейса получает доступ к настройкам чтения и записи. Это расположение является либо домашним каталогом Active Directory, либо определенным во время UE-V установки. Вы можете установить расположение во время установки агента UE-V или установить его позже с помощью групповой политики, WMI или PowerShell. Расположение может быть в любой общей папке файлов, к которую пользователи могут получить доступ. Если во время установки не установлено расположение хранилища параметров, UE-V будет использовать домашний каталог в Active Directory. Агент UE-V проверяет расположение и создает папку системы, скрытую от пользователя, в которой можно хранить и получать доступ к настройкам пользователя. Дополнительные сведения о хранении параметров см. в руб. Подготовка среды [к UE-V.](preparing-your-environment-for-ue-v.md)

## <a name="ue-v-agent"></a>UE-V Агент


Агент UE-V устанавливается на каждом компьютере с настройками, синхронизированными с помощью виртуализации пользовательского опыта. Агент отслеживает зарегистрированные приложения и операционную систему для любых изменений, внесенных в параметры, и синхронизирует эти параметры между компьютерами. Параметры, когда приложение запущено, применяются из расположения хранилища параметров к приложению. Затем параметры сохраняются в расположении хранилища параметров при закрытии приложения. Параметры операционной системы применяются, когда пользователь входит в систему, когда компьютер разблокирован, или когда пользователь подключается удаленно к компьютеру с помощью удаленного протокола рабочего стола (RDP). Агент сохраняет параметры при отключении пользователя, блокировке компьютера или отключении удаленного подключения. Дополнительные сведения об агенте UE-V см. в [UE-V.](preparing-your-environment-for-ue-v.md)

## <a name="settings-location-templates"></a><a href="" id="bkmk-settingslocationtemplate"></a>Параметры расположения


Шаблон расположения параметров — это XML-файл, который определяет расположения параметров, которые будут контролироваться виртуализацией пользовательского интерфейса. Только расположения параметров, определенные в этих шаблонах параметров, захватываются или применяются на компьютерах с UE-V Агентом. Шаблон расположения параметров не содержит значений параметров, а только расположения, в которых значения хранятся на компьютере.

UE-V содержит набор шаблонов расположения параметров, которые определяют расположения параметров для некоторых приложений Майкрософт и Windows параметров. Администратор может создавать настраиваемые шаблоны расположения параметров с помощью UE-V Generator.

[Планирование того, какие приложения необходимо синхронизировать с UE-V 1.0](planning-which-applications-to-synchronize-with-ue-v-10.md)

[Планирование развертывания пользовательского шаблона для UE-V 1.0](planning-for-custom-template-deployment-for-ue-v-10.md)

[Работа с пользовательскими шаблонами UE-V и генератором UE-V](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

## <a name="settings-packages"></a>Параметры пакеты


Параметры приложения и Windows хранятся в пакетах параметров, созданных агентом UE-V. Пакет параметров — это коллекция параметров, представленных в шаблонах расположения параметров. Эти пакеты параметров строятся, хранятся локально, а затем копируется в расположение хранилища параметров. "Последняя победа записи" определяет, какие параметры сохраняются, когда один пользователь синхронизирует несколько компьютеров с расположением хранилища. Агент, который работает на одном компьютере, читает и записывает в расположение параметров независимо от агентов, которые работают на других компьютерах. Самые последние написанные параметры и значения применяются, когда следующий агент читает из расположения хранилища параметров.

![процесс генератора ue-v.](images/ue-vgeneratorprocess.gif)

## <a name="settings-template-catalog"></a>Параметры шаблона


Каталог шаблонов параметров — это путь папок на UE-V или сетевой блок сообщений сервера, который хранит все настраиваемые шаблоны расположения параметров. Агент UE-V извлекает новые или обновленные шаблоны из этого расположения. Агент UE-V проверяет это расположение один раз в день и обновляет свое поведение синхронизации на основе шаблонов в этой папке. Шаблоны, которые были добавлены или обновлены в этой папке после последней проверки, регистрируются агентом UE-V. Агент UE-V удаляет шаблоны, которые были удалены из этой папки. Шаблоны регистрируются и не регистрируются один раз в день планировщиком задач. Если вы будете использовать только шаблоны расположения параметров по умолчанию, включенные в UE-V, каталог шаблонов параметров не требуется. Дополнительные сведения о каталогах развертывания параметров см. в книге [Planning for Custom Template Deployment for UE-V 1.0](planning-for-custom-template-deployment-for-ue-v-10.md).

## <a name="user-experience-virtualization-generator"></a>Генератор виртуализации пользовательских интерфейсов


Генератор виртуализации пользователей позволяет создавать настраиваемые шаблоны расположения параметров, которые будут хранить расположения параметров приложений, используемых на предприятии, и которые необходимо включить в решение параметров роуминга. Генератор UE-V будет искать расположения значений реестра и файлы параметров для приложений, а затем будет записывать эти расположения в XML-файле шаблона расположения параметров. Затем можно распространить эти шаблоны расположения параметров на компьютеры пользователей. Генератор UE-V также позволяет администратору изменять существующий шаблон или проверять шаблон, созданный с помощью другого редактора XML.

Генератор UE-V отслеживает приложение для обнаружения и записи параметров. Для этого он отслеживает, где приложение считывает или пишет в реестре HKEY\_CURRENT\_USER или в папках файлов пользователей **\\** \\[Имя пользователя\] \\ Роуминг и пользователи **AppData**  \\  **** \\ \[Имя пользователя\] \\ **AppData**  \\  **Local**.

Процесс обнаружения исключает ключи реестра и файлы, к которым входив пользователь не может писать значения. Ни один из них не будет включен в XML-файл. Процесс обнаружения также исключает ключи реестра и файлы, связанные с основными функциями Windows операционной системы.

Дополнительные сведения о генераторе UE-V см. в [UE-V.](installing-the-ue-v-generator.md)

## <a name="related-topics"></a>Статьи по теме


[Microsoft User Experience Virtualization (UE-V) 1.0](index.md)

[Начало работы с User Experience Virtualization 1.0](getting-started-with-user-experience-virtualization-10.md)

[Сведения о User Experience Virtualization 1.0](about-user-experience-virtualization-10.md)

[Работа с пользовательскими шаблонами UE-V и генератором UE-V](working-with-custom-ue-v-templates-and-the-ue-v-generator.md)

 

 





